<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:tns="http://www.activiti.org/test" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" expressionLanguage="http://www.w3.org/1999/XPath" id="m1527583541161" name="" targetNamespace="http://www.activiti.org/test" typeLanguage="http://www.w3.org/2001/XMLSchema">
  <process id="formDefaultProcess" isClosed="false" isExecutable="true" name="formDefaultProcess" processType="Public">
    <startEvent id="startForm" name="开始"/>
    <userTask activiti:candidateUsers="${tenantService.findCandidateUsersJoin(execution)}" activiti:exclusive="true" id="engineer" name="工程师"/>
    <userTask activiti:exclusive="true" id="manager" name="经理"/>
    <userTask activiti:exclusive="true" id="customerService" name="客服"/>
    <endEvent id="endForm" name="End"/>
    <userTask activiti:exclusive="true" id="seniorEngineer" name="高级工程师"/>
    <sequenceFlow id="flow1" name="指派" sourceRef="startForm" targetRef="engineer"/>
    <sequenceFlow id="flow2" name="处理完成" sourceRef="engineer" targetRef="manager">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='complete'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow3" name="审核完成" sourceRef="manager" targetRef="customerService">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='pass'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow4" name="评价完成" sourceRef="customerService" targetRef="endForm">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='evaluate'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow5" name="流转" sourceRef="engineer" targetRef="seniorEngineer">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='upgerade'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow6" name="处理完成" sourceRef="seniorEngineer" targetRef="manager">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='complete'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow7" name="流转" sourceRef="seniorEngineer" targetRef="engineer">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='upgerade'}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow8" name="退回" sourceRef="manager" targetRef="engineer">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[#{message=='reject'}]]></conditionExpression>
    </sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram documentation="background=#3C3F41;count=1;horizontalcount=1;orientation=0;width=842.4;height=1195.2;imageableWidth=832.4;imageableHeight=1185.2;imageableX=5.0;imageableY=5.0" id="Diagram-_1" name="New Diagram">
    <bpmndi:BPMNPlane bpmnElement="formDefaultProcess">
      <bpmndi:BPMNShape bpmnElement="startForm" id="Shape-startForm">
        <omgdc:Bounds height="32.0" width="32.0" x="220.0" y="290.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="engineer" id="Shape-engineer">
        <omgdc:Bounds height="55.0" width="105.0" x="370.0" y="280.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="manager" id="Shape-manager">
        <omgdc:Bounds height="55.0" width="105.0" x="570.0" y="280.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="customerService" id="Shape-customerService">
        <omgdc:Bounds height="55.0" width="105.0" x="760.0" y="280.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="endForm" id="Shape-endForm">
        <omgdc:Bounds height="32.0" width="32.0" x="960.0" y="290.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="32.0" width="32.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="seniorEngineer" id="Shape-seniorEngineer">
        <omgdc:Bounds height="55.0" width="105.0" x="474.0" y="140.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="55.0" width="105.0" x="0.0" y="0.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1" sourceElement="startForm" targetElement="engineer">
        <omgdi:waypoint x="252.0" y="306.0"/>
        <omgdi:waypoint x="370.0" y="307.5"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="24.0" x="270.0" y="307.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2" sourceElement="engineer" targetElement="manager">
        <omgdi:waypoint x="475.0" y="307.5"/>
        <omgdi:waypoint x="570.0" y="307.5"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="475.0" y="307.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3" sourceElement="manager" targetElement="customerService">
        <omgdi:waypoint x="675.0" y="307.5"/>
        <omgdi:waypoint x="760.0" y="307.5"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="675.0" y="307.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4" sourceElement="customerService" targetElement="endForm">
        <omgdi:waypoint x="865.0" y="307.5"/>
        <omgdi:waypoint x="960.0" y="306.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="865.0" y="307.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5" sourceElement="engineer" targetElement="seniorEngineer">
        <omgdi:waypoint x="474.5" y="280.0"/>
        <omgdi:waypoint x="474.5" y="195.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="24.0" x="451.0" y="241.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow6" id="BPMNEdge_flow6" sourceElement="seniorEngineer" targetElement="manager">
        <omgdi:waypoint x="574.5" y="195.0"/>
        <omgdi:waypoint x="574.5" y="280.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="541.0" y="220.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow7" id="BPMNEdge_flow7" sourceElement="seniorEngineer" targetElement="engineer">
        <omgdi:waypoint x="474.0" y="168.0"/>
        <omgdi:waypoint x="422.0" y="168.0"/>
        <omgdi:waypoint x="422.0" y="280.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="24.0" x="401.0" y="199.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow8" id="BPMNEdge_flow8" sourceElement="manager" targetElement="engineer">
        <omgdi:waypoint x="622.0" y="335.0"/>
        <omgdi:waypoint x="622.0" y="420.0"/>
        <omgdi:waypoint x="423.0" y="420.0"/>
        <omgdi:waypoint x="422.5" y="335.0"/>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="24.0" x="480.0" y="419.0"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
